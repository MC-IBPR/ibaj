<div class="header">
  <app-menu></app-menu>
</div>

<div class="container" id="container">

  <!------------------------------------ Articulo  ---------------------------------------------->
  <!-------------------------------------------------------------------------------------------->
  <div class="article">
    <section>
      <h3>{{ lastArticle.titulo }}</h3>
      <div class="img">
        <img src="{{ lastArticle.urlImagen }}" alt="" srcset="">
      </div>
      <p>
        {{ lastArticle.texto }}
      </p>

      <cite>{{ lastArticle.autor }}</cite>
      <em> {{ lastArticle.fecha }} </em>

    </section>

  <!------------------------------------ Formulario de comentario  ---------------------------------------------->
  <!-------------------------------------------------------------------------------------------->
    <form [formGroup]="formGroup">
      <div class="form-group">
        <textarea name="" id="" cols="30" rows="10" placeholder="Comentario.." formControlName="comentario"></textarea>
        <div *ngIf="formGroup.controls['comentario'].invalid && formGroup.controls['comentario'].dirty" class="alert">
          <span *ngIf="formGroup.controls['comentario'].errors.required">Este campo es requerido</span>
        </div>
      </div>
      <div class="form-group">
        <input type="text" name="" id="" placeholder="Nombre" formControlName="nombre">
        <div *ngIf="formGroup.controls['nombre'].invalid && formGroup.controls['nombre'].dirty" class="alert">
          <span *ngIf="formGroup.controls['nombre'].errors.required">El nombre es requerido</span>
        </div>
      </div>
      <div class="form-group">
        <button (click)="addComment()">Enviar</button>
      </div>
    </form>
  </div>


  <!------------------------------------ Comentarios  ---------------------------------------------->
  <!-------------------------------------------------------------------------------------------->

  <div class="comments" *ngIf="existComment; else noComments">
    <h3>Comentarios</h3>
    <div class="comment" *ngFor="let comentario of dataComment">
      <em>
        "{{ comentario.comentario }}"
      </em>
      <cite>{{ comentario.nombre }}</cite>
    </div>

  </div>

  <ng-template #noComments>
    <div class="comments">
      <h3>Comentarios</h3>
      <div class="comment">
        No hay comentarios.
      </div>
    </div>
  </ng-template>


  <!------------------------------------ Otros articulos  ---------------------------------------------->
  <!-------------------------------------------------------------------------------------------->
  <div class="other">
    <h4>Otros Art√≠culos</h4>
    <div class="other-articles" *ngFor="let article of otherArticles">

      <h3> {{ article.titulo }} </h3>
      <p>
        {{ article.texto }}
      </p>

      <a [routerLink]="['/blog', article.id]" (click)="otherArticle(article.id)">leer mas..</a>
    </div>
  </div>

</div>
<div class="footer">
  <app-footer></app-footer>
</div>
